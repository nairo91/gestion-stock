/* ========================================================================
   Design System - Gestion Stock
   ======================================================================== */
:root {
  color-scheme: light;
  --font-family-base: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
  --font-size-base: 0.95rem;
  --line-height-base: 1.55;

  /* Palette claire */
  --surface-page: #f4f6fb;
  --surface-card: #ffffff;
  --surface-subtle: #f1f3f9;
  --surface-elevated: #ffffff;
  --border-color: rgba(15, 23, 42, 0.08);
  --text-color: #0f172a;
  --text-muted: #4b5563;

  --primary-50: #eff6ff;
  --primary-100: #dbeafe;
  --primary-200: #bfdbfe;
  --primary-400: #60a5fa;
  --primary-500: #2563eb;
  --primary-600: #1d4ed8;

  --secondary-50: #f8fafc;
  --secondary-100: #e2e8f0;
  --secondary-500: #475569;
  --secondary-600: #334155;

  --danger-50: #fef2f2;
  --danger-500: #ef4444;
  --danger-600: #dc2626;

  --success-50: #ecfdf5;
  --success-500: #10b981;

  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 24px;

  --shadow-xs: 0 1px 2px rgba(15, 23, 42, 0.08);
  --shadow-sm: 0 4px 12px rgba(15, 23, 42, 0.08);
  --shadow-md: 0 16px 40px rgba(15, 23, 42, 0.12);

  --focus-ring: 0 0 0 3px rgba(37, 99, 235, 0.35);
}

[data-theme="dark"] {
  color-scheme: dark;
  --surface-page: #0f172a;
  --surface-card: #111827;
  --surface-subtle: #15223b;
  --surface-elevated: #16213c;
  --border-color: rgba(148, 163, 184, 0.18);
  --text-color: #e2e8f0;
  --text-muted: #94a3b8;

  --primary-50: #172554;
  --primary-100: #1d4ed8;
  --primary-200: #2563eb;
  --primary-400: #3b82f6;
  --primary-500: #60a5fa;
  --primary-600: #93c5fd;

  --secondary-50: #111827;
  --secondary-100: #1e293b;
  --secondary-500: #cbd5f5;
  --secondary-600: #e0e7ff;

  --danger-50: rgba(239, 68, 68, 0.12);
  --danger-500: #f87171;
  --danger-600: #fca5a5;

  --success-50: rgba(16, 185, 129, 0.12);
  --success-500: #34d399;

  --shadow-xs: 0 1px 2px rgba(15, 23, 42, 0.4);
  --shadow-sm: 0 4px 18px rgba(15, 23, 42, 0.45);
  --shadow-md: 0 18px 48px rgba(15, 23, 42, 0.65);
}

/* Typography & Layout --------------------------------------------------- */
html, body { min-height: 100%; }
body {
  background: var(--surface-page);
  color: var(--text-color);
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  margin: 0;
}

.app-shell { min-height: 100vh; display: flex; flex-direction: column; }
.app-main { flex: 1 0 auto; padding: 1.5rem 0 3rem; }
.app-footer { flex-shrink: 0; border-top: 1px solid var(--border-color); background: var(--surface-card); }

/* Focus states */
:focus-visible { outline: none; box-shadow: var(--focus-ring); }
.btn:focus-visible, .form-control:focus-visible, .form-select:focus-visible, .nav-link:focus-visible { box-shadow: var(--focus-ring); }

/* Navbar */
.navbar-modern { background: var(--surface-card); border-bottom: 1px solid var(--border-color); box-shadow: var(--shadow-xs); }
.navbar-modern .navbar-brand { font-weight: 600; font-size: 1.05rem; color: var(--text-color); }
.navbar-modern .nav-link, .navbar-modern .navbar-text { color: var(--text-muted); }
.navbar-modern .nav-link:hover, .navbar-modern .nav-link:focus { color: var(--text-color); }

.theme-toggle{
  --toggle-bg: var(--surface-subtle); --toggle-icon: var(--text-color);
  background: var(--toggle-bg); border: 1px solid var(--border-color); border-radius: 999px;
  padding: .35rem .65rem; display: inline-flex; align-items: center; gap: .35rem;
  color: var(--toggle-icon); font-weight: 500; transition: background .3s,color .3s,border-color .3s;
}
.theme-toggle:hover,.theme-toggle:focus-visible{ background: var(--primary-100); color: var(--primary-600); border-color: transparent; }

/* Buttons */
.btn{ border-radius: var(--radius-sm); border-width: 1px; font-weight: 600; letter-spacing: .01em;
  transition: transform .2s, box-shadow .2s, background .2s, color .2s; }
.btn:active{ transform: translateY(1px); }
.btn-primary{ color:#fff; background: linear-gradient(120deg,var(--primary-500),var(--primary-600)); border-color:transparent; box-shadow:0 10px 24px rgba(37,99,235,.25); }
.btn-primary:hover,.btn-primary:focus-visible{ color:#fff; background:linear-gradient(120deg,var(--primary-600),var(--primary-400)); }
.btn-secondary{ color:var(--text-color); background:var(--surface-subtle); border-color:transparent; }
.btn-secondary:hover,.btn-secondary:focus-visible{ background:var(--primary-100); color:var(--primary-600); }
.btn-ghost{ color:var(--text-muted); background:transparent; border-color:transparent; }
.btn-ghost:hover,.btn-ghost:focus-visible{ color:var(--primary-600); background:var(--primary-50); }
.btn-danger{ color:#fff; background: linear-gradient(120deg,var(--danger-500),var(--danger-600)); border-color:transparent; }
.btn-danger:hover,.btn-danger:focus-visible{ color:#fff; background: linear-gradient(120deg,var(--danger-600),var(--danger-500)); }

/* Forms */
.form-label{ font-size:.78rem; text-transform:uppercase; letter-spacing:.06em; font-weight:700; color:var(--text-muted); margin-bottom:.35rem; }
.form-control,.form-select{ border-radius:var(--radius-sm); border:1px solid var(--border-color); background:var(--surface-card); color:var(--text-color); transition: box-shadow .2s, border-color .2s, background .2s; padding:.55rem .75rem; }
.form-control:focus,.form-select:focus{ border-color:var(--primary-500); box-shadow: var(--focus-ring); }
.form-text{ color:var(--text-muted); }
.input-group-text{ background:var(--surface-subtle); border-color:var(--border-color); }

/* Cards & Panels */
.card{ border:1px solid var(--border-color); border-radius:var(--radius-md); background:var(--surface-card); box-shadow:var(--shadow-sm); }
.card-header{ border-bottom:1px solid var(--border-color); background:var(--surface-card); color:var(--text-muted); font-weight:600; letter-spacing:.02em; text-transform:uppercase; font-size:.75rem; }
.card-title{ font-weight:600; color:var(--text-color); }
.panel-inline-actions{ display:flex; flex-wrap:wrap; align-items:center; gap:.75rem; }
.panel-inline-actions .btn{ box-shadow:none; }

/* Badges */
.badge-soft{ border-radius:999px; padding:.35rem .75rem; font-weight:600; font-size:.75rem; letter-spacing:.02em; }
.badge-soft-primary{ background:rgba(37,99,235,.12); color:var(--primary-500); }
.badge-soft-warning{ background:rgba(245,158,11,.18); color:#d97706; }
.badge-soft-danger{ background:rgba(239,68,68,.12); color:var(--danger-500); }
.badge-soft-success{ background:rgba(16,185,129,.15); color:var(--success-500); }
[data-theme="dark"] .badge-soft-primary{ background:rgba(96,165,250,.16); }
[data-theme="dark"] .badge-soft-warning{ background:rgba(245,158,11,.22); }
[data-theme="dark"] .badge-soft-danger{ background:rgba(248,113,113,.22); }
[data-theme="dark"] .badge-soft-success{ background:rgba(52,211,153,.22); }

/* Tables */
.table-modern{
  --bs-table-bg: transparent; --bs-table-striped-bg: rgba(15,23,42,.03);
  --bs-table-striped-color: inherit; --bs-table-hover-bg: rgba(37,99,235,.07);
  border-collapse:separate; border-spacing:0; margin-bottom:0; font-size:.92rem;
}
[data-theme="dark"] .table-modern{ --bs-table-striped-bg: rgba(148,163,184,.06); --bs-table-hover-bg: rgba(59,130,246,.18); }
.table-modern thead th{
  position:sticky; top:0; z-index:2; background:var(--surface-card); border-bottom:1px solid var(--border-color);
  text-transform:uppercase; letter-spacing:.05em; font-size:.68rem; color:var(--text-muted); padding:.75rem;
}
.table-modern tbody tr{ border-bottom:1px solid var(--border-color); }
.table-modern tbody td{ padding:.6rem .75rem; vertical-align:middle; background:transparent; }
.table-modern tbody tr:last-of-type td{ border-bottom:none; }
.table-responsive-modern{ max-height:60vh; overflow-y:auto; }
.table-actions{ display:flex; flex-wrap:wrap; align-items:center; gap:.35rem; }
.table-actions .btn{ padding:.35rem .55rem; font-size:.8rem; }

/* Toasts */
.toast-modern{ border-radius:var(--radius-md); border:1px solid var(--border-color); background:var(--surface-card); color:var(--text-color); box-shadow:var(--shadow-sm); }
.toast-modern .toast-header{ background:transparent; border-bottom:1px solid var(--border-color); color:var(--text-muted); font-weight:600; }

/* Utilities */
.surface-subtle{ background:var(--surface-subtle); border-radius:var(--radius-md); }
.text-muted-soft{ color:var(--text-muted); }
.shadow-none{ box-shadow:none !important; }

/* Responsive */
@media (max-width: 991.98px){ .navbar-modern .navbar-brand{ font-size:1rem; } }
@media (max-width: 767.98px){ .app-main{ padding-top:1rem; } .card{ border-radius:var(--radius-sm); } }
